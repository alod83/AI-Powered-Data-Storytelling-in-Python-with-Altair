<!DOCTYPE html>
<html>
<head>
  <style>
    .error {
        color: red;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-lite@4.17.0"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 400, "continuousHeight": 300, "strokeWidth": 0}, "axis": {"grid": false}, "title": {"fontSize": 20, "offset": 25}}, "vconcat": [{"hconcat": [{"layer": [{"data": {"name": "data-20bd69e9f1bd55d424a618d19783e699"}, "mark": {"type": "image", "height": 200, "width": 200}, "encoding": {"url": {"field": "image_url", "type": "nominal"}, "x": {"value": 0}, "y": {"value": 50}}}, {"data": {"name": "data-a0b77c3cbfd0aa91275254cda8533e20"}, "mark": {"type": "image", "height": 200, "width": 200}, "encoding": {"url": {"field": "image_url", "type": "nominal"}, "x": {"value": 0}, "y": {"value": 300}}}]}, {"data": {"name": "data-74c3b3a2e88392a1f86d85511cbf8ce7"}, "mark": "bar", "encoding": {"color": {"condition": {"value": "#6F4E37", "test": "(datum.Ratio > 2)"}, "value": "lightgray"}, "x": {"axis": {"tickCount": 4, "title": "Number of homeless people in a population of 1,000"}, "field": "Ratio", "type": "quantitative"}, "y": {"axis": {"title": ""}, "field": "Territory", "sort": "-x", "type": "nominal"}}, "title": {"text": ["Together, Let's Make a Difference: Support Our Project to Help the Homeless!"], "align": "left", "anchor": "start", "subtitle": ["Homelessness is a heartbreaking reality that leaves individuals and families without a stable home,", "leading to devastating consequences such as poor health and social isolation.", "The chart describes the number of homeless people in Italy per 1,000 inhabitants, organized by region. ", "The data is from 2021, the most recent year available (Source: ISTAT)."], "subtitleFontSize": 18}, "width": 500}]}, {"hconcat": [{"hconcat": [{"hconcat": [{"hconcat": [{"layer": [{"mark": {"type": "text", "size": 16, "text": "Shelter and Housing", "y": 0}}, {"mark": {"type": "arc", "innerRadius": 20, "outerRadius": 30}, "encoding": {"color": {"field": "Category", "legend": null, "scale": {"range": ["#6F4E37", "lightgray"]}, "type": "nominal"}, "theta": {"field": "Value", "stack": true, "type": "quantitative"}}, "height": 100, "width": 100}, {"mark": {"type": "text", "color": "#6F4E37", "size": 16, "text": "35%"}}], "data": {"name": "data-9020c53a4f82480f56c7134810a3b55e"}}, {"layer": [{"mark": {"type": "text", "size": 16, "text": "Job Training", "y": 0}}, {"mark": {"type": "arc", "innerRadius": 20, "outerRadius": 30}, "encoding": {"color": {"field": "Category", "legend": null, "scale": {"range": ["#6F4E37", "lightgray"]}, "type": "nominal"}, "theta": {"field": "Value", "stack": true, "type": "quantitative"}}, "height": 100, "width": 100}, {"mark": {"type": "text", "color": "#6F4E37", "size": 16, "text": "25%"}}], "data": {"name": "data-179e2f844ad93f085b826ddd47730b3b"}}]}, {"layer": [{"mark": {"type": "text", "size": 16, "text": "Education", "y": 0}}, {"mark": {"type": "arc", "innerRadius": 20, "outerRadius": 30}, "encoding": {"color": {"field": "Category", "legend": null, "scale": {"range": ["#6F4E37", "lightgray"]}, "type": "nominal"}, "theta": {"field": "Value", "stack": true, "type": "quantitative"}}, "height": 100, "width": 100}, {"mark": {"type": "text", "color": "#6F4E37", "size": 16, "text": "20%"}}], "data": {"name": "data-5a120d371782a148b77852b194039c6c"}}]}, {"layer": [{"mark": {"type": "text", "size": 16, "text": "Healthcare", "y": 0}}, {"mark": {"type": "arc", "innerRadius": 20, "outerRadius": 30}, "encoding": {"color": {"field": "Category", "legend": null, "scale": {"range": ["#6F4E37", "lightgray"]}, "type": "nominal"}, "theta": {"field": "Value", "stack": true, "type": "quantitative"}}, "height": 100, "width": 100}, {"mark": {"type": "text", "color": "#6F4E37", "size": 16, "text": "10%"}}], "data": {"name": "data-9580aa0bfc5e6b3e8a59cd35e1d1b07d"}}]}, {"layer": [{"mark": {"type": "text", "size": 16, "text": "Basic Necessities", "y": 0}}, {"mark": {"type": "arc", "innerRadius": 20, "outerRadius": 30}, "encoding": {"color": {"field": "Category", "legend": null, "scale": {"range": ["#6F4E37", "lightgray"]}, "type": "nominal"}, "theta": {"field": "Value", "stack": true, "type": "quantitative"}}, "height": 100, "width": 100}, {"mark": {"type": "text", "color": "#6F4E37", "size": 16, "text": "10%"}}], "data": {"name": "data-9580aa0bfc5e6b3e8a59cd35e1d1b07d"}}], "title": "Our visionary plan to harness the funds"}], "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-20bd69e9f1bd55d424a618d19783e699": [{"image_url": "media/homeless1.png"}], "data-a0b77c3cbfd0aa91275254cda8533e20": [{"image_url": "media/homeless2.png"}], "data-74c3b3a2e88392a1f86d85511cbf8ce7": [{"ITTER107": "ITF1", "Value_pop": 1275950, "Territory": "Abruzzo", "Value_hom": 610, "Ratio": 0.47807515968494063}, {"ITTER107": "ITF5", "Value_pop": 541168, "Territory": "Basilicata", "Value_hom": 119, "Ratio": 0.21989474617863583}, {"ITTER107": "ITF6", "Value_pop": 1855454, "Territory": "Calabria", "Value_hom": 2351, "Ratio": 1.267075335739932}, {"ITTER107": "ITF3", "Value_pop": 5624420, "Territory": "Campania", "Value_hom": 7828, "Ratio": 1.3917879532467348}, {"ITTER107": "ITD5", "Value_pop": 4425366, "Territory": "Emilia-Romagna", "Value_hom": 4926, "Ratio": 1.1131282700685095}, {"ITTER107": "ITD4", "Value_pop": 1194647, "Territory": "Friuli-Venezia Giulia", "Value_hom": 1451, "Ratio": 1.2145847267016951}, {"ITTER107": "ITE4", "Value_pop": 5714882, "Territory": "Lazio", "Value_hom": 24049, "Ratio": 4.208135881020815}, {"ITTER107": "ITC3", "Value_pop": 1509227, "Territory": "Liguria", "Value_hom": 4293, "Ratio": 2.8445025168513416}, {"ITTER107": "ITC4", "Value_pop": 9943004, "Territory": "Lombardia", "Value_hom": 16346, "Ratio": 1.643969971248126}, {"ITTER107": "ITE3", "Value_pop": 1487150, "Territory": "Marche", "Value_hom": 1107, "Ratio": 0.7443768281612481}, {"ITTER107": "ITF2", "Value_pop": 292150, "Territory": "Molise", "Value_hom": 101, "Ratio": 0.3457128187574876}, {"ITTER107": "ITC1", "Value_pop": 4256350, "Territory": "Piemonte", "Value_hom": 8766, "Ratio": 2.0595110834400367}, {"ITTER107": "ITF4", "Value_pop": 3922941, "Territory": "Puglia", "Value_hom": 7655, "Ratio": 1.9513421180690713}, {"ITTER107": "ITG2", "Value_pop": 1587413, "Territory": "Sardegna", "Value_hom": 3212, "Ratio": 2.023417976292244}, {"ITTER107": "ITG1", "Value_pop": 4833329, "Territory": "Sicilia", "Value_hom": 4023, "Ratio": 0.8323455738270662}, {"ITTER107": "ITE1", "Value_pop": 3663191, "Territory": "Toscana", "Value_hom": 4450, "Ratio": 1.214787872103857}, {"ITTER107": "ITDA", "Value_pop": 1073574, "Territory": "Trentino Alto Adige", "Value_hom": 612, "Ratio": 0.5700585148299047}, {"ITTER107": "ITE2", "Value_pop": 858812, "Territory": "Umbria", "Value_hom": 431, "Ratio": 0.501856052314127}, {"ITTER107": "ITC2", "Value_pop": 123360, "Territory": "Valle d'Aosta", "Value_hom": 73, "Ratio": 0.5917639429312581}, {"ITTER107": "ITD3", "Value_pop": 4847745, "Territory": "Veneto", "Value_hom": 3794, "Ratio": 0.7826319247402658}], "data-9020c53a4f82480f56c7134810a3b55e": [{"Category": "A", "Value": 35}, {"Category": "B", "Value": 65}], "data-179e2f844ad93f085b826ddd47730b3b": [{"Category": "A", "Value": 25}, {"Category": "B", "Value": 75}], "data-5a120d371782a148b77852b194039c6c": [{"Category": "A", "Value": 20}, {"Category": "B", "Value": 80}], "data-9580aa0bfc5e6b3e8a59cd35e1d1b07d": [{"Category": "A", "Value": 10}, {"Category": "B", "Value": 90}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div class="error" style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>